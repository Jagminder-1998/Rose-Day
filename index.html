<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rose Day ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:linear-gradient(#ffdde1,#ee9ca7);
  text-align:center;
  overflow-x:hidden;
}

/* ---------- HOME CARD ---------- */
#home{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.card{
  background: linear-gradient(180deg, #ffffff, #fff5f7);
  padding: 45px 35px;
  border-radius: 30px;
  max-width: 340px;
  color: #8b0000;
  cursor: pointer;
  box-shadow:
    0 20px 40px rgba(139,0,0,0.25),
    inset 0 0 10px rgba(255,182,193,0.4);
  transition: transform 0.35s, box-shadow 0.35s;
}

.card:hover{
  transform: scale(1.06);
  box-shadow:
    0 25px 50px rgba(139,0,0,0.35),
    inset 0 0 14px rgba(255,182,193,0.6);
}


/* ---------- BOUQUET ---------- */
.hidden{ display:none; }

.hint{
  margin-top:20px;
  font-size:18px;
  color:#8b0000;
  animation:float 2s infinite;
}

@keyframes float{
  50%{ transform:translateY(-8px); }
}

.roses{
  position:relative;
  width:280px;
  height:380px;
  margin:30px auto;
}

.rose{
  position:absolute;
  font-size:42px;
  cursor:pointer;
  transition:transform 0.3s;
}

.rose:hover{ transform:scale(1.2); }
 /* stem illusion */
.rose::after{
  content:'';
  position:absolute;
  width:2px;
  height:28px;
  background:#2e7d32;
  left:50%;
  top:38px;
}


/* ---------- MODAL ---------- */
#modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.75);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:20;
}

#modal.hidden{ display:none; }

#modal img{
  max-width:90%;
  max-height:80%;
  border-radius:18px;
}

/* ---------- PETALS ---------- */
.petal{
  position:fixed;
  top:-30px;
  font-size:18px;
  animation:fall linear infinite;
  pointer-events:none;
  z-index:1;
}

@keyframes fall{
  to{ transform:translateY(110vh) rotate(360deg); }
}
</style>
</head>

<body>

<!-- HOME -->
<div id="home">
  <div class="card" onclick="openExperience()">
    <h2 style="font-weight: normal; line-height:1.5;">
I couldn‚Äôt give you a rose in person üåπ<br>
  <span style="font-size:22px;">so I coded one for you</span>
</h2>

<p style="
  margin-top:22px;
  font-size:19px;
  letter-spacing:0.5px;
">
  Open this ‚ù§Ô∏è
</p>

  </div>
</div>

<!-- BOUQUET -->
<div id="bouquet" class="hidden">
  <p class="hint">Tap the roses one by one üåπ</p>
  <div class="roses" id="roses"></div>
</div>

<!-- PHOTO MODAL -->
<div id="modal" class="hidden" onclick="closeModal()">
  <img id="modalImg">
</div>

<!-- MUSIC -->
<audio id="bgMusic" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
let musicStarted=false;

function openExperience(){
  document.getElementById("home").style.display="none";
  document.getElementById("bouquet").classList.remove("hidden");
  startMusic();
  createRoses();
  startPetals();
}

/* ---------- EXACTLY 20 ROSES (BOUQUET SHAPE) ---------- */
function createRoses(){
  const container=document.getElementById("roses");
  if(container.children.length>0) return;

  const positions=[
    /* top */
    {x:120,y:10},{x:80,y:25},{x:160,y:25},{x:200,y:35},
    /* upper mid */
    {x:50,y:65},{x:100,y:70},{x:150,y:75},{x:200,y:70},
    /* middle */
    {x:40,y:115},{x:90,y:120},{x:140,y:125},{x:190,y:120},{x:230,y:115},
    /* lower mid */
    {x:80,y:175},{x:130,y:180},{x:180,y:175},
    /* bottom */
    {x:110,y:235},{x:150,y:235},
    /* stems convergence */
    {x:130,y:295},{x:140,y:315}
  ];

  for(let i=0;i<20;i++){
    const r=document.createElement("div");
    r.className="rose";
    r.innerText="üåπ";
    r.style.left=positions[i].x+"px";
    r.style.top=positions[i].y+"px";
    r.style.transform=`rotate(${Math.random()*30-15}deg)`;
    r.onclick=()=>openImage(i+1);
    container.appendChild(r);
  }
}

/* ---------- IMAGES ---------- */
function openImage(n){
  document.getElementById("modalImg").src="pic"+n+".jpeg";
  document.getElementById("modal").classList.remove("hidden");
}

function closeModal(){
  document.getElementById("modal").classList.add("hidden");
}

/* ---------- MUSIC ---------- */
function startMusic(){
  if(!musicStarted){
    document.getElementById("bgMusic").play();
    musicStarted=true;
  }
}

/* ---------- PETALS ---------- */
function startPetals(){
  setInterval(()=>{
    const p=document.createElement("div");
    p.className="petal";
    p.innerText="üå∏";
    p.style.left=Math.random()*100+"vw";
    p.style.animationDuration=(5+Math.random()*5)+"s";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),10000);
  },700);
}
</script>

</body>
</html>
